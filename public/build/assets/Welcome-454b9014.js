import{I as w,r as K,B as x,o as i,f as d,b as t,a as c,u as o,F as h,N as B,a5 as I,C as P,T as R,d as T,t as f,g as y,e as j,h as $,m as b,c as k,S as D,j as S,G as F,a6 as N,H as V,Q as M,Z as U}from"./app-2dcae80d.js";import{s as v,B as O,a as A}from"./button.esm-9e6fb8b8.js";import{s as C}from"./calendar.esm-b6f177df.js";import{s as W}from"./multiselect.esm-604803f9.js";import{s as L}from"./inputtext.esm-ee8c0c16.js";import{s as q}from"./virtualscroller.esm-dd1c2e67.js";import{b as E}from"./portal.esm-9d0ff783.js";import{_ as G}from"./IndexLayout-43bf93bd.js";import{s as H}from"./dynamicdialog.esm-a318b191.js";import"./index.esm-2267cb30.js";import"./overlayeventbus.esm-cc52214e.js";import"./checkbox.esm-5eac2d71.js";import"./toast.esm-9cb58b5c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./dialog.esm-89cdd475.js";const J={class:"flex"},Y={class:"flex items-baseline mr-3"},z={class:"flex items-baseline mr-3"},Q={class:"flex items-center flex-1 mr-3"},Z={class:""},X={__name:"WelcomeFilter",props:{roomTypes:Object},setup(e){const l=new URLSearchParams(document.location.search),m=w({from_date:l.get("from_date")?new Date(l.get("from_date")):"",to_date:l.get("to_date")?new Date(l.get("to_date")):"",room_type_id:l.get("room_type_id")?l.get("room_type_id").split(",").map(r=>Number(r)):[]}),g=K(new Date);let u=w({from_date:"",to_date:"",room_type:""});function n(){B.visit(route("index",{_query:u}))}return x(()=>{let r=new Date(m.from_date),a=`${r.getFullYear()}-${r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1}-${r.getDate()<10?"0":""}${r.getDate()}`;u.from_date=m.from_date?a:null}),x(()=>{let r=new Date(m.to_date),a=`${r.getFullYear()}-${r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1}-${r.getDate()<10?"0":""}${r.getDate()}`;u.to_date=m.to_date?a:null}),x(()=>{u.room_type_id=m.room_type_id.join(",")}),(r,a)=>(i(),d(h,null,[a[6]||(a[6]=t("h3",{class:"mb-3 text-3xl font-semibold"},"Find your room",-1)),t("div",J,[t("div",Y,[a[3]||(a[3]=t("label",{for:"checkin",class:"mr-3"},"From",-1)),c(o(C),{modelValue:m.from_date,"onUpdate:modelValue":a[0]||(a[0]=s=>m.from_date=s),manualInput:!0,class:"h-full",id:"checkin",minDate:g.value},null,8,["modelValue","minDate"])]),t("div",z,[a[4]||(a[4]=t("label",{for:"checkin",class:"mr-3"},"To",-1)),c(o(C),{modelValue:m.to_date,"onUpdate:modelValue":a[1]||(a[1]=s=>m.to_date=s),manualInput:!0,class:"h-full",id:"checkin",minDate:m.from_date||null},null,8,["modelValue","minDate"])]),t("div",Q,[a[5]||(a[5]=t("label",{for:"checkin",class:"mr-3"},"Room Type",-1)),c(o(W),{modelValue:m.room_type_id,"onUpdate:modelValue":a[2]||(a[2]=s=>m.room_type_id=s),id:"room",options:e.roomTypes,optionLabel:"name",optionValue:"id",filter:"",placeholder:"Select rooms",maxSelectedLabels:5,class:"w-64"},null,8,["modelValue","options"])]),t("div",Z,[c(o(v),{label:"Search",outlined:"",onClick:n})])])],64))}},ee={class:"p-6 min-w-[30rem]"},te={class:"mb-4 text-gray-600"},ae={class:"font-semibold"},se={class:"space-y-4"},oe={class:"flex flex-col"},le={key:0,class:"mt-1 text-red-600"},ne={class:"flex flex-col"},re={key:0,class:"mt-1 text-red-600"},ie={class:"flex justify-end mt-6"},me={__name:"BookingForm",setup(e){const l=I("dialogRef"),m=P(),{roomType:g,searchParams:u}=l.value.data,n=R({guest_name:"",total_person:1,from_date:u.from_date,to_date:u.to_date,room_type_id:g.id});function r(){n.post(route("user.reserve"),{preserveScroll:!0,onSuccess:()=>{l.value.close(),m.add({severity:"success",summary:"Berhasil",detail:"Reservasi Anda telah dibuat!",life:3e3}),router.visit(window.location.href,{preserveScroll:!0,preserveState:!0})},onError:a=>{m.add({severity:"error",summary:"Gagal",detail:"Silakan periksa kembali isian Anda.",life:3e3})}})}return(a,s)=>(i(),d("div",ee,[s[6]||(s[6]=t("h3",{class:"mb-1 text-2xl font-bold"},"Konfirmasi Pesanan",-1)),t("p",te,[s[3]||(s[3]=T(" Untuk tipe kamar: ")),t("span",ae,f(o(g).name),1)]),t("form",{onSubmit:j(r,["prevent"])},[t("div",se,[t("div",oe,[s[4]||(s[4]=t("label",{for:"guest_name",class:"font-medium text-gray-700"},"Nama Tamu",-1)),c(o(L),{id:"guest_name",modelValue:o(n).guest_name,"onUpdate:modelValue":s[0]||(s[0]=_=>o(n).guest_name=_),invalid:o(n).errors.guest_name},null,8,["modelValue","invalid"]),o(n).errors.guest_name?(i(),d("small",le,f(o(n).errors.guest_name),1)):y("",!0)]),t("div",ne,[s[5]||(s[5]=t("label",{for:"total_person",class:"font-medium text-gray-700"},"Jumlah Orang",-1)),c(o(q),{id:"total_person",modelValue:o(n).total_person,"onUpdate:modelValue":s[1]||(s[1]=_=>o(n).total_person=_),min:1,invalid:o(n).errors.total_person},null,8,["modelValue","invalid"]),o(n).errors.total_person?(i(),d("small",re,f(o(n).errors.total_person),1)):y("",!0)])]),t("div",ie,[c(o(v),{label:"Batalkan",severity:"secondary",onClick:s[2]||(s[2]=_=>o(l).close()),class:"mr-2",type:"button"}),c(o(v),{type:"submit",label:"Buat Pesanan",loading:o(n).processing},null,8,["loading"])])],32)]))}};var de={root:function(l){var m=l.props;return["p-chip p-component",{"p-chip-image":m.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},ce=O.extend({name:"chip",classes:de}),ue={name:"BaseChip",extends:A,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:ce,provide:function(){return{$parentInstance:this}}},p={name:"Chip",extends:ue,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(l){(l.key==="Enter"||l.key==="Backspace")&&this.close(l)},close:function(l){this.visible=!1,this.$emit("remove",l)}},components:{TimesCircleIcon:E}},pe=["aria-label"],fe=["src"];function ge(e,l,m,g,u,n){return u.visible?(i(),d("div",b({key:0,class:e.cx("root"),"aria-label":e.label},e.ptmi("root")),[$(e.$slots,"default",{},function(){return[e.image?(i(),d("img",b({key:0,src:e.image},e.ptm("image")),null,16,fe)):e.$slots.icon?(i(),k(D(e.$slots.icon),b({key:1,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(i(),d("span",b({key:2,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):y("",!0),e.label?(i(),d("div",b({key:3,class:e.cx("label")},e.ptm("label")),f(e.label),17)):y("",!0)]}),e.removable?$(e.$slots,"removeicon",{key:0,onClick:n.close,onKeydown:n.onKeydown,removeCallback:n.close,keydownCallback:n.onKeydown},function(){return[(i(),k(D(e.removeIcon?"span":"TimesCircleIcon"),b({tabindex:"0",class:[e.cx("removeIcon"),e.removeIcon],onClick:n.close,onKeydown:n.onKeydown},e.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):y("",!0)],16,pe)):y("",!0)}p.render=ge;const be={class:"p-3 rounded bg-slate-100"},ye={class:"md:max-w-[75rem] max-w-2xl flex-col items-center justify-center mx-auto py-24 px-3"},_e={class:"mb-20"},he={class:"flex flex-wrap justify-center gap-3"},ve={key:0,class:"mt-12"},xe={key:0},ke={class:"p-6 space-y-5 bg-white rounded-lg shadow-lg"},we={class:"col-span-2"},$e={class:"text-xl font-semibold"},De={class:"text-gray-600"},Se={class:"text-right"},Ve={class:"text-lg font-bold text-indigo-600"},Ce={key:1,class:"px-3 py-1 text-xs font-semibold text-white bg-red-500 rounded-full"},Ke={key:1,class:"py-16 text-center bg-white rounded-lg shadow-md"},Be={key:1,class:"mt-16"},Ie={class:"grid grid-cols-1 gap-8 md:grid-cols-3"},Pe=["src","alt"],Re={class:"p-6"},Te={class:"text-2xl font-semibold text-gray-900"},je={layout:G,components:{DynamicDialog:H}},Qe=Object.assign(je,{__name:"Welcome",props:{errors:Object,roomTypes:Object,searchRooms:{type:[Object,Array],required:!1},searchParams:{type:Object,required:!1}},setup(e){const l=e,m=S(()=>M().props.auth.user),g=S(()=>l.searchRooms!==null&&l.searchRooms!==void 0),u=F();function n(r){if(!m.value){window.location.href=route("login");return}u.open(me,{props:{header:"Formulir Pemesanan",modal:!0,draggable:!1},data:{roomType:r,searchParams:l.searchParams}})}return(r,a)=>(i(),d(h,null,[c(o(U),{title:"Welcome"}),t("div",be,[t("div",ye,[a[5]||(a[5]=N('<div class="mb-16 text-center"><h1 class="mb-3 text-6xl font-bold"> Welcome to <span class="text-6xl font-extrabold text-indigo-600">Raysa Homestay Syariah</span></h1><h2 class="text-3xl font-normal"> We offer the world-class hospitality with luxury experience. </h2><p class="mt-4 text-lg text-gray-500"><i class="pi pi-map-marker" style="font-size:1rem;"></i> Jl. HR. Soebrantas Gg. Iman No.55, Simpang Baru, Kec. Tampan, Kota Pekanbaru, Riau 28293 </p></div>',1)),t("div",_e,[a[0]||(a[0]=t("h3",{class:"mb-6 text-4xl font-bold text-center text-gray-800"}," Fasilitas Unggulan Kami ",-1)),t("div",he,[c(o(p),{label:"Tempat Tidur (Double)",icon:"pi pi-bed"}),c(o(p),{label:"Pendingin Ruangan (AC)",icon:"pi pi-sun"}),c(o(p),{label:"Kamar Mandi Dalam",icon:"pi pi-bath"}),c(o(p),{label:"Smart TV 28”",icon:"pi pi-desktop"}),c(o(p),{label:"Meja & Kursi",icon:"pi pi-table"}),c(o(p),{label:"Lemari Pakaian",icon:"pi pi-box"}),c(o(p),{label:"Wi-Fi Gratis",icon:"pi pi-wifi"})])]),c(X,{"room-types":e.roomTypes},null,8,["room-types"]),g.value?(i(),d("div",ve,[e.searchRooms.length>0?(i(),d("div",xe,[a[2]||(a[2]=t("h3",{class:"mb-6 text-3xl font-bold text-gray-800"}," Kamar Tersedia ",-1)),t("div",ke,[(i(!0),d(h,null,V(e.searchRooms,s=>(i(),d("div",{key:s.id,class:"grid items-center grid-cols-3 gap-4 pb-4 border-b last:border-b-0"},[t("div",we,[t("h4",$e,f(s.name),1),t("p",De,f(s.available_count)+" kamar tersedia ",1)]),t("div",Se,[t("p",Ve,f(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s.price)),1),a[1]||(a[1]=t("p",{class:"mb-2 text-sm text-gray-500"}," per malam ",-1)),s.available_count>0?(i(),k(o(v),{key:0,label:"Pesan Sekarang",onClick:_=>n(s),class:"p-button-sm"},null,8,["onClick"])):(i(),d("span",Ce,"Penuh"))])]))),128))])])):(i(),d("div",Ke,a[3]||(a[3]=[t("h1",{class:"text-2xl font-semibold text-gray-600"}," Maaf, Tidak Ada Kamar yang Tersedia ",-1),t("p",{class:"text-gray-500"}," Silakan coba cari untuk tanggal atau tipe kamar yang lain. ",-1)])))])):(i(),d("div",Be,[a[4]||(a[4]=t("h3",{class:"mb-6 text-4xl font-bold text-gray-800"}," Tipe Kamar Kami ",-1)),t("div",Ie,[(i(!0),d(h,null,V(e.roomTypes,s=>(i(),d("div",{key:s.id,class:"overflow-hidden bg-white rounded-lg shadow-lg"},[t("img",{src:s.image_url,alt:s.name,class:"object-cover w-full h-56"},null,8,Pe),t("div",Re,[t("h4",Te,f(s.name),1)])]))),128))])]))])])],64))}});export{Qe as default};
