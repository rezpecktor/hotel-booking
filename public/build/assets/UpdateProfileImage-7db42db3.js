import{Q as b,C as h,T as v,r as u,o as i,f as s,b as f,u as e,a as p}from"./app-2dcae80d.js";import{s as d}from"./button.esm-9e6fb8b8.js";const P={class:"relative w-full md:w-1/2 h-auto max-h-[18rem] bg-slate-200/50 rounded"},y=["src","alt"],k=["src","alt"],I={key:2,class:"flex flex-col justify-center w-full h-full text-center"},R={__name:"UpdateProfileImage",setup(w){const o=b().props.auth.user,m=h(),t=v({profile_image:""});function g(){t.post(route(o.role_id===1?"admin.profile.updateProfileImage":"user.profile.updateProfileImage"),{onSuccess(){m.add({severity:"success",summary:"Success",detail:"Profile Image is updated successfully",life:3e3})}})}const a=u(null),r=u();function _(n){const c=n.target.files;a.value=URL.createObjectURL(c[0]),t.profile_image=c[0]}return(n,l)=>(i(),s("form",P,[f("input",{type:"file",accept:"image/jpeg,image/png",class:"hidden",id:"profilePicture",ref_key:"profilePictureInputRef",ref:r,onInput:_},null,544),a.value?(i(),s("img",{key:0,src:a.value,alt:`Profile image of ${e(o).name}`,class:"object-cover w-full h-full rounded"},null,8,y)):e(o).profile_image_path?(i(),s("img",{key:1,src:e(o).profile_image_path,alt:`Profile image of ${e(o).name}`,class:"object-cover w-full h-full rounded"},null,8,k)):(i(),s("div",I,l[1]||(l[1]=[f("p",{class:""},"There is no profile image.",-1)]))),p(e(d),{icon:"pi pi-pencil",class:"!absolute bottom-0 left-0 bg-indigo-700 hover:bg-indigo-700",onClick:l[0]||(l[0]=()=>r.value.click())}),p(e(d),{icon:"pi pi-save",class:"!absolute bottom-0 left-16 bg-indigo-700 hover:bg-indigo-700",loading:e(t).processing,onClick:g,disabled:!e(t).isDirty},null,8,["loading","disabled"])]))}};export{R as default};
