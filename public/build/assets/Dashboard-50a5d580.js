import{_ as P,o as m,f as h,b as s,m as R,r as u,j as y,k as g,l as _,a as d,u as b,t as w,F as O,Z as S}from"./app-2dcae80d.js";import{B as j,a as T}from"./button.esm-9e6fb8b8.js";import{_ as A}from"./AdminLayout-9dae27c2.js";import"./confirmdialog.esm-1013cf0d.js";import"./dialog.esm-89cdd475.js";import"./toast.esm-9cb58b5c.js";import"./portal.esm-9d0ff783.js";var $={root:{position:"relative"}},V={root:"p-chart"},E=j.extend({name:"chart",inlineStyles:$,classes:V}),k={name:"BaseChart",extends:T,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:E,provide:function(){return{$parentInstance:this}}},f={name:"Chart",extends:k,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var e=this;P(()=>import("./auto-7ced24dc.js"),[]).then(function(o){e.chart&&(e.chart.destroy(),e.chart=null),o&&o.default&&(e.chart=new o.default(e.$refs.canvas,{type:e.type,data:e.data,options:e.options,plugins:e.plugins})),e.$emit("loaded",e.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(e){if(this.chart){var o=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),a=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);o&&o[0]&&a&&this.$emit("select",{originalEvent:e,element:o[0],dataset:a})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function v(t){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(t)}function x(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,a)}return o}function C(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?x(Object(o),!0).forEach(function(a){D(t,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(o,a))})}return t}function D(t,e,o){return e=B(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function B(t){var e=L(t,"string");return v(e)=="symbol"?e:String(e)}function L(t,e){if(v(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var a=o.call(t,e||"default");if(v(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N=["width","height"];function z(t,e,o,a,n,i){return m(),h("div",R({class:t.cx("root"),style:t.sx("root")},t.ptmi("root")),[s("canvas",R({ref:"canvas",width:t.width,height:t.height,onClick:e[0]||(e[0]=function(l){return i.onCanvasClick(l)})},C(C({},t.canvasProps),t.ptm("canvas"))),null,16,N)],16)}f.render=z;const I={class:"flex flex-col h-full"},F={class:"relative flex-1"},M={__name:"AvailableRoom",props:{availableRooms:Object},setup(t){const e=u(null),o=t,a=y(()=>({labels:Object.keys(o.availableRooms),data:Object.values(o.availableRooms)})),n=u({}),i=u({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0}}}}),l=()=>{e.value&&e.value.reinit()};g(()=>{n.value=p(),window.addEventListener("resize",l)}),_(()=>{window.removeEventListener("resize",l)});const p=()=>{const r=getComputedStyle(document.body);return{labels:a.value.labels,datasets:[{data:a.value.data,backgroundColor:[r.getPropertyValue("--green-500"),r.getPropertyValue("--red-500")],hoverBackgroundColor:[r.getPropertyValue("--green-400"),r.getPropertyValue("--red-400")]}]}};return(r,c)=>(m(),h("div",I,[c[0]||(c[0]=s("h1",{class:"mb-4 text-2xl font-semibold text-center"}," Rooms Status Today ",-1)),s("div",F,[d(b(f),{ref_key:"chartComponent",ref:e,type:"pie",data:n.value,options:i.value,class:"absolute top-0 left-0 w-full h-full"},null,8,["data","options"])])]))}},U={class:"flex flex-col h-full"},G={class:"relative flex-1"},K={__name:"AvailableRoomType",props:{availableRoomTypes:Object},setup(t){const e=u(null),o=t,a=y(()=>({labels:Object.keys(o.availableRoomTypes),data:Object.values(o.availableRoomTypes)})),n=u({}),i=u({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0}}}}),l=()=>{e.value&&e.value.reinit()};g(()=>{n.value=p(),window.addEventListener("resize",l)}),_(()=>{window.removeEventListener("resize",l)});const p=()=>{const r=getComputedStyle(document.body);return{labels:a.value.labels,datasets:[{data:a.value.data,backgroundColor:[r.getPropertyValue("--cyan-500"),r.getPropertyValue("--orange-500"),r.getPropertyValue("--gray-500"),r.getPropertyValue("--red-500"),r.getPropertyValue("--yellow-500")],hoverBackgroundColor:[r.getPropertyValue("--cyan-400"),r.getPropertyValue("--orange-400"),r.getPropertyValue("--gray-400"),r.getPropertyValue("--red-400"),r.getPropertyValue("--yellow-400")]}]}};return(r,c)=>(m(),h("div",U,[c[0]||(c[0]=s("h1",{class:"mb-4 text-2xl font-semibold text-center"}," Available Room Types Today ",-1)),s("div",G,[d(b(f),{ref_key:"chartComponent",ref:e,type:"doughnut",data:n.value,options:i.value,class:"absolute top-0 left-0 w-full h-full"},null,8,["data","options"])])]))}},Z={class:"flex flex-col h-full"},W={class:"relative flex-1"},q={__name:"PopularRoomType",props:{popularRoomTypes:Object},setup(t){const e=u(null),o=t,a=y(()=>({labels:Object.keys(o.popularRoomTypes),data:Object.values(o.popularRoomTypes)})),n=u({}),i=u({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}),l=()=>{e.value&&e.value.reinit()};g(()=>{n.value=p(),window.addEventListener("resize",l)}),_(()=>{window.removeEventListener("resize",l)});const p=()=>(getComputedStyle(document.documentElement),{labels:a.value.labels,datasets:[{label:"Total Reservations",data:a.value.data,backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgb(255, 159, 64)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],borderWidth:1}]});return(r,c)=>(m(),h("div",Z,[c[0]||(c[0]=s("h1",{class:"mb-4 text-2xl font-semibold text-center"}," Monthly Popular Room Types ",-1)),s("div",W,[d(b(f),{ref_key:"chartComponent",ref:e,type:"bar",data:n.value,options:i.value,class:"absolute top-0 left-0 w-full h-full"},null,8,["data","options"])])]))}},H={class:"flex flex-col h-full"},J={class:"relative flex-1"},Q={__name:"ReservationByRole",props:{reservationByRole:Object},setup(t){const e=u(null),o=t,a=y(()=>({labels:Object.keys(o.reservationByRole),data:Object.values(o.reservationByRole)})),n=u({}),i=u({responsive:!0,maintainAspectRatio:!1}),l=()=>{e.value&&e.value.reinit()};g(()=>{n.value=p(),window.addEventListener("resize",l)}),_(()=>{window.removeEventListener("resize",l)});const p=()=>{const r=getComputedStyle(document.body);return{labels:a.value.labels,datasets:[{data:a.value.data,backgroundColor:[r.getPropertyValue("--blue-500"),r.getPropertyValue("--yellow-500"),r.getPropertyValue("--green-500")],hoverBackgroundColor:[r.getPropertyValue("--blue-400"),r.getPropertyValue("--yellow-400"),r.getPropertyValue("--green-400")]}]}};return(r,c)=>(m(),h("div",H,[c[0]||(c[0]=s("h1",{class:"mb-4 text-2xl font-semibold text-center"}," Reservation By Role ",-1)),s("div",J,[d(b(f),{ref_key:"chartComponent",ref:e,type:"pie",data:n.value,options:i.value,class:"absolute top-0 left-0 w-full h-full"},null,8,["data","options"])])]))}},X={class:"max-w-7xl"},Y={class:"grid grid-cols-1 gap-3 mb-9 md:grid-cols-2 lg:grid-cols-3"},ee={class:"p-3 transition-colors duration-300 rounded shadow bg-slate-100/80 hover:bg-slate-200/80"},te={class:"text-5xl font-semibold text-center text-indigo-500"},oe={class:"p-3 transition-colors duration-300 rounded shadow bg-slate-100/80 hover:bg-slate-200/80"},ae={class:"text-5xl font-semibold text-center text-indigo-500"},re={class:"p-3 transition-colors duration-300 rounded shadow md:col-span-2 lg:col-span-1 bg-slate-100/80 hover:bg-slate-200/80"},se={class:"text-5xl font-semibold text-center text-indigo-500"},ne={class:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3"},le={class:"w-full p-4 transition-colors duration-300 rounded shadow h-96 bg-slate-100/80 hover:bg-slate-200/80"},ie={class:"w-full p-4 transition-colors duration-300 rounded shadow h-96 bg-slate-100/80 hover:bg-slate-200/80"},ue={class:"w-full p-4 transition-colors duration-300 rounded shadow h-96 bg-slate-100/80 hover:bg-slate-200/80"},ce={class:"w-full p-4 transition-colors duration-300 rounded shadow h-96 lg:col-span-3 bg-slate-100/80 hover:bg-slate-200/80"},de={layout:A},ge=Object.assign(de,{__name:"Dashboard",props:{todayAvailableRoomTypes:Object,todayAvailableRooms:Array,todayReservedRooms:Array,monthlyPopularRoomTypes:Object,monthlyGuests:String,monthlyAmount:String,totalRooms:Number,adminReservedReservations:Number,userReservedReservations:Number},setup(t){const e=t;return(o,a)=>{var n,i;return m(),h(O,null,[d(b(S),{title:"Dashboard"}),a[3]||(a[3]=s("h1",{class:"mb-6 text-5xl font-bold text-900"},"Dashboard",-1)),s("div",X,[s("div",Y,[s("div",ee,[a[0]||(a[0]=s("h1",{class:"mb-3 text-2xl font-bold text-center"}," Total Guest This Month ",-1)),s("h2",te,w(Number(t.monthlyGuests).toLocaleString("en")),1)]),s("div",oe,[a[1]||(a[1]=s("h1",{class:"mb-3 text-2xl font-bold text-center"}," Total Number Of Rooms ",-1)),s("h2",ae,w(t.totalRooms),1)]),s("div",re,[a[2]||(a[2]=s("h1",{class:"mb-3 text-2xl font-bold text-center"}," Total Earned This Month ",-1)),s("h2",se,w(new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t.monthlyAmount)),1)])]),s("div",ne,[s("div",le,[d(K,{"available-room-types":t.todayAvailableRoomTypes},null,8,["available-room-types"])]),s("div",ie,[d(M,{"available-rooms":{"Available Rooms":(n=e.todayAvailableRooms)==null?void 0:n.length,"Reserved Rooms":(i=e.todayReservedRooms)==null?void 0:i.length}},null,8,["available-rooms"])]),s("div",ue,[d(Q,{"reservation-by-role":{User:e.userReservedReservations,Admin:e.adminReservedReservations}},null,8,["reservation-by-role"])]),s("div",ce,[d(q,{"popular-room-types":t.monthlyPopularRoomTypes},null,8,["popular-room-types"])])])])],64)}}});export{ge as default};
